# -*- coding: utf-8 -*-#
#-------------------------------------------------------------------------------
# Name:         draw_bbox.py
# Author:       wdf
# Date:         2019/7/18
# IDE：         PyCharm 
# Parameters:
#     @param:
#     @param:
# Return： 
#       
# Description:  
# Usage：
#-------------------------------------------------------------------------------
import cv2
import numpy as np

def draw_bbox(img,bboxs):
    """
    可视化单元格
    输入：图像、坐标列表
    :param img:
    :return:
    """
    for i in range(len(bboxs)):
        '''
        cv2.rectangle 的两个参数分别代表矩形的左上角和右下角两个点，
        而且 x 坐标轴是水平方向的，y 坐标轴是垂直方向的。
        
        x1,y1 ------     -> x
        |          |
        |          |
        |          |
        --------x2,y2       
        
        |
        ∨
        y
        
        '''
        for i in range(len(bboxs)):
            pt1 = (bboxs[i][1][0],bboxs[i][1][1])  # 左上角
            pt2 = (bboxs[i][0][0],bboxs[i][0][1])  # 右下角

            img = cv2.rectangle(img,
                                pt1=pt1,
                                pt2=pt2,
                                color=(255, 0, 0),
                                thickness=2,
                                lineType=1,
                                shift=0)
    cv2.imshow("contour",img)



def main():
    image  = "../img/table.png"
    image1  = "../img/3.jpg"
    bboxs = [[[556, 679], [510, 619]], [[510, 679], [469, 619]], [[469, 679], [426, 619]], [[426, 679], [384, 619]], [[384, 679], [346, 619]], [[346, 679], [55, 619]], [[556, 619], [510, 523]], [[510, 619], [469, 523]], [[469, 619], [426, 523]], [[426, 619], [384, 523]], [[384, 619], [346, 523]], [[346, 619], [55, 523]], [[556, 523], [510, 450]], [[510, 523], [469, 450]], [[469, 523], [426, 450]], [[426, 523], [384, 450]], [[384, 523], [346, 450]], [[346, 523], [55, 450]], [[556, 450], [510, 410]], [[510, 450], [469, 410]], [[469, 450], [426, 410]], [[426, 450], [384, 410]], [[384, 450], [346, 410]], [[346, 450], [55, 410]], [[556, 410], [510, 370]], [[510, 410], [469, 370]], [[469, 410], [426, 370]], [[426, 410], [384, 370]], [[384, 410], [346, 370]], [[346, 410], [55, 370]], [[555, 307], [514, 256]], [[514, 307], [472, 256]], [[472, 307], [56, 256]], [[555, 256], [514, 185]], [[514, 256], [472, 185]], [[472, 256], [56, 185]], [[555, 185], [514, 125]], [[514, 185], [472, 125]], [[472, 185], [56, 125]], [[555, 125], [514, 100]], [[514, 125], [472, 100]], [[472, 125], [56, 100]]]

    img = cv2.imread(image1,1)
    cv2.imshow("img",img)
    draw_bbox(img,bboxs)

    cv2.waitKey(0)
    cv2.destroyAllWindows()



if __name__ == '__main__':
    main()